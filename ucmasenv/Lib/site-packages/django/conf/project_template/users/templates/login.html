{% extends "base1.html" %}
{% load crispy_forms_tags %}
{% block design %} 
.about{
  color:blue;
}
.center {
	width: 100%;
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	/* (x, y)  => position */
	-ms-transform: translate(-50%, -50%);
	/* IE 9 */
	-webkit-transform: translate(-50%, -50%);
	/* Chrome, Safari, Opera */
}
.card{
  padding-top:5vh !important;
  padding-bottom:5vh !important;
  border-radius:20px !important;
}
main .card {
  background-color: #3475;
}

body {
  <!-- background: #fe8c00; /* fallback for old browsers */ -->
  font-family: 'Poppins', sans-serif !important;
            //font-size: 16px;
            //line-height: 24px;
            //font-weight: 400;
            //color: #212112 !important;
            //color: white !important;
            //background: #fe8c00;
            
            background: -webkit-linear-gradient(
              to right,
              #f83600,
              #fe8c00
            ) !important; /* Chrome 10-25, Safari 5.1-6 */
            background: linear-gradient(
              to right,
              #f83600,
              #fe8c00
            ) !important;
            background-image: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/1462889/pat-back.svg') !important;
            
            background-position: center !important;
            background-repeat: repeat !important;
            background-size: 7% !important;
            background-color: #fff !important;
            overflow-x: hidden !important;
            transition: all 200ms linear !important;
  /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */

  color: white !important;
}



h3 {
  font-family: Times New Roman;
  font-weight: bold;
}
hr {
  border-bottom: solid white 1px;
}
.rounded-pill{
  border-radius: 25px !important;
}
.btn {
  background: #0f2027; /* fallback for old browsers */
  background: -webkit-linear-gradient(
    to right,
    #2c5364,
    #203a43,
    #0f2027
  ) !important; /* Chrome 10-25, Safari 5.1-6 */
  background: linear-gradient(
    to right,
    #2c5364,
    #203a43,
    #0f2027
  ) !important; /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
}

input {
  background-color: #3475 !important;
  color: white !important;
}
.gradient-text {
  /* Fallback: Set a background color. */
  background-color: red;
  
  /* Create the gradient. */
  /*background-image: linear-gradient(45deg, yellow , red);*/
  /* background-image: conic-gradient(yellow, red);*/
  background-image: linear-gradient(45deg, #f3ec78, #af4261); 
  /* Set the background size and repeat properties. */
  /*background: -webkit-linear-gradient(#eee, #333);*/
  background-size: 100%;
  background-repeat: repeat;

  /* Use the text as a mask for the background. */
  /* This will show the gradient as a text color rather than element bg. */
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent; 
  -moz-background-clip: text;
  -moz-text-fill-color: transparent;
}
.gradient-text {
  /* Fallback: Set a background color. */
  background-color: #CA4246;
  
  /* Create the gradient. */
   background-image: linear-gradient(
        45deg,
        #CA4246 16.666%, 
        #E16541 16.666%, 
        #E16541 33.333%, 
        #F18F43 33.333%, 
        #F18F43 45%, 
        #8B9862 50%, 
        #8B9862 66.666%, 
        #476098 66.666%, 
        #476098 83.333%, 
        #A7489B 83.333%);
  
  /* Set the background size and repeat properties. */
  background-size: 100%;
  background-repeat: repeat;

  /* Use the text as a mask for the background. */
  /* This will show the gradient as a text color rather than element bg. */
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent; 
  
  /* Animate the text when loading the element. */
    /* This animates it on page load and when hovering out. */
    animation: rainbow-text-simple-animation-rev 0.75s ease forwards;

}

.gradient-text:hover{
    animation: rainbow-text-simple-animation 0.5s ease-in forwards;
}


/* Move the background and make it smaller. */
/* Animation shown when entering the page and after the hover animation. */
@keyframes rainbow-text-simple-animation-rev {
    0% {
        background-size: 650%;
    }
    40% {
        background-size: 650%;
    }
    100% {
        background-size: 100%;
    }
}

/* Move the background and make it larger. */
/* Animation shown when hovering over the text. */
@keyframes rainbow-text-simple-animation {
    0% {
        background-size: 100%;
    }
    80% {
        background-size: 650%;
    }
    100% {
        background-size: 650%;
    }
}
::placeholder {
  color: white !important;
}
h3 {
  font-family: "Archivo Black", sans-serif;
  font-weight: normal;
  font-size: 3em;
  text-align: center;
  margin-bottom: 0;
  margin-bottom: -0.25em;
  display: block;
  cursor: pointer;
}
h6 {
  font-family: "Archivo Black", sans-serif;
  font-weight: normal;
  /*font-size: 3em; */
  text-align: center;
  margin-bottom: 0;
  margin-bottom: -0.25em;
  display: block;
  cursor: pointer;
}
{% endblock %}
{% block content %}
<main class="container">
    <div class="absolute-center text-center content-section">
      <div class="card col-md-4 mt-2 col-sm-10 center">
        {% if otp %}
        <form method="POST">
          {% csrf_token %}
          <fieldset class="form-group">
              <legend class="border-bottom display">
                  <h3 class="float-left">Verify Your Email</h3>
              </legend>
              <input type="hidden" name="usr" value="{{usr.username}}">
              <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="basic-addon1">OTP</span>
                </div>
                <input type="text" class="form-control" placeholder="Enter Your OTP" aria-label="OTP" aria-describedby="basic-addon1" name = 'otp'>
              </div>
              
          </fieldset>
          {% if messages %}
                            {% for message in messages %}
                            <div class="form-group">
                            <div class="alert alert-warning alert-dismissible fade show" role="alert">
                              <strong>{{user.username}}:</strong> {{message}}
                              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                              </button>
                            </div>
                            </div>
                          {% endfor %}
          {% endif %}
          <div class="form-grounp">
              <button class="btn mainbtn" type="submit">Verify</button>
              <small class="float-right text-muted"><i><a href="#" class="text-dark" 
                onclick="ReSendOTP('{{usr.username}}', 'resendOTPmess')"><i id="resendOTPmess">Resend</i> OTP</a></small>

          </div>

      </form>
     {% else %} 
        <form class="" method="POST">
            {% csrf_token %}
            <fieldset class="form-group">
              <h3 class="text-center text-uppercase mb-4 gradient-text">Log in</h3>
                
                {% for field in form %}
                <div class="form-group">
                  <h6><b>{{ field.label_tag }}</b></h6>
                  {{field}}
                  {% if field.help_text %}
                  <small id="emailHelp" style="" class="form-text">{{field.help_text}}</small>
                  {% endif %}
                  {% for error in field.errors %}
                  <p style="color: red">{{ error }}</p>
                  {% endfor %}
                
                </div>
                
                {% endfor %}

            </fieldset>
            <div class="form-group">
                <button class="col-sm-6 btn btn-secondary rounded-pill mt-3" type="submit">Login</button>
                <small class="float-right text-muted"><a href="{% url 'password_reset' %}" class="text-dark"> Forgotten Password?</a></small>

            </div>
            
            <!-- <a class="btn btn-success" href="../accounts/google/login/?process=login">Google</a> -->
        </form>
        {% endif %}
        <div class="pt-3">
            <small class="text">
                Need An Account? <a class="btn btn-primary btn-large rounded-pill" href="{% url 'register' %}">Sign Up Now</a>
            </small>
        </div>
        <div class="form-group mt-5">
          {% if messages %}
          {% for message in messages %}
          <div class="alert alert-warning alert-dismissible fade show" role="alert">
            <strong>{{user.username}}</strong> {{message}}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          {% endfor %}
           
          {% endif %}
      </div>
      </div>
    </div>
  </main>
{% endblock content %}